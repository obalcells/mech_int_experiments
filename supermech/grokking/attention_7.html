<!DOCTYPE html>
<html>
<head>
    <title>HTML Dropdown</title>
</head>
<body>

    <form>
        <label>Choose a sequence:</label>
        <select id="tokens" onchange="changeTokens(this.value)">
        <option id="set1" value="set1">1 1 113 </option>
        <option id="set2" value="set2">57 57 113 </option>
        <option id="set3" value="set3">58 58 113 </option>
        <option id="set4" value="set4">59 59 113 </option>
        </select>
    </form>

    <div id="circuits-vis-cc52d284-4394" style="margin: 15px 0;"></div>
    
    <script crossorigin type="module">
        import { render, AttentionHeads } from "https://unpkg.com/circuitsvis@1.41.0/dist/cdn/esm.js";
        
        let tokens = {
            "set1": ['1 ', '1 ', '113 '],
            "set2": ['57 ', '57 ', '113 '],
            "set3": ['58 ', '58 ', '113 '],
            "set4": ['59 ', '59 ', '113 '],
        };
        let attention = {
            "set1": [[[1.0, 0.0, 0.0], [0.5000011920928955, 0.49999886751174927, 0.0], [0.4993504285812378, 0.499318391084671, 0.0013310950016602874]], [[1.0, 0.0, 0.0], [0.4999901056289673, 0.5000098943710327, 0.0], [0.4928882420063019, 0.49316298961639404, 0.013948798179626465]], [[1.0, 0.0, 0.0], [0.5000466704368591, 0.4999532997608185, 0.0], [0.4997684955596924, 0.4985440671443939, 0.0016875037690624595]], [[1.0, 0.0, 0.0], [0.5000854730606079, 0.4999144971370697, 0.0], [0.49931594729423523, 0.4972727298736572, 0.003411308629438281]]],
            "set2": [[[1.0, 0.0, 0.0], [0.5000014305114746, 0.49999862909317017, 0.0], [0.49798086285591125, 0.49794894456863403, 0.004070258233696222]], [[1.0, 0.0, 0.0], [0.4999881386756897, 0.5000118613243103, 0.0], [0.49942144751548767, 0.4996997117996216, 0.0008788987179286778]], [[1.0, 0.0, 0.0], [0.5000551342964172, 0.49994486570358276, 0.0], [0.497080534696579, 0.49586281180381775, 0.007056575268507004]], [[1.0, 0.0, 0.0], [0.5000996589660645, 0.49990037083625793, 0.0], [0.49304816126823425, 0.491030752658844, 0.01592104882001877]]],
            "set3": [[[1.0, 0.0, 0.0], [0.500001072883606, 0.49999889731407166, 0.0], [0.4929324984550476, 0.49290087819099426, 0.014166561886668205]], [[1.0, 0.0, 0.0], [0.4999907910823822, 0.5000092387199402, 0.0], [0.4992721378803253, 0.49955040216445923, 0.0011774096637964249]], [[1.0, 0.0, 0.0], [0.5000438690185547, 0.4999561905860901, 0.0], [0.49650636315345764, 0.49529001116752625, 0.008203566074371338]], [[1.0, 0.0, 0.0], [0.5000805854797363, 0.49991941452026367, 0.0], [0.5006741285324097, 0.49862539768218994, 0.0007004734361544251]]],
            "set4": [[[1.0, 0.0, 0.0], [0.5000012516975403, 0.4999988079071045, 0.0], [0.4930565059185028, 0.493025004863739, 0.013918519020080566]], [[1.0, 0.0, 0.0], [0.49998950958251953, 0.5000105500221252, 0.0], [0.49925634264945984, 0.49953463673591614, 0.00120906054507941]], [[1.0, 0.0, 0.0], [0.5000494122505188, 0.4999505877494812, 0.0], [0.4982184171676636, 0.4969978928565979, 0.004783653188496828]], [[1.0, 0.0, 0.0], [0.5000908970832825, 0.49990907311439514, 0.0], [0.4973985254764557, 0.49536317586898804, 0.007238330319523811]]],
        };
        let labels = {
            "set1": ['0.0', '0.1', '0.2', '0.3'],
            "set2": ['0.0', '0.1', '0.2', '0.3'],
            "set3": ['0.0', '0.1', '0.2', '0.3'],
            "set4": ['0.0', '0.1', '0.2', '0.3'],
        };

        window.changeTokens = function(value) {
            render("circuits-vis-cc52d284-4394", AttentionHeads, {"tokens": tokens[value], "attention": attention[value], "attentionHeadNames": labels[value]});
        }

        // Render the initial visualization
        changeTokens("set1");
    </script>

</body>
</html>
